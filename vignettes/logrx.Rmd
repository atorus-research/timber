---
title: "logrxpackage"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{logrxpackage}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup, echo = FALSE}
library(logrx)
```

The purpose of the `logrx` package is to generate a log upon execution of 
an R script which enables traceability and reproducibility of the executed code. 


# Log attributes
The following attributes are recorded in the log:

* `metadata`: `logrx` package information
   + Version of the package
   + Type of build
   + Link to the GitHub repository
* `user and file information`
   + User that generated the log
   + Name and path of the script for which the log was generated
   + `hash_sum`: A unique hashsum is created for the log file
* `session_info`: The R session information
   + R version
   + OS and system
   + GUI
   + Language and timezone
* `packages`: List of all available packages in the environment
* `external_software`: List of all external software
* `masked_functions`: List of all functions masked by packages
* `start_time`, `end_time`, and `run_time`: Start, end, and run times
* `used_packages_functions`: List of all packages and functions used in the 
script for which the log was generated
* `unapproved_packages_functions`: List of all packages and functions used in 
the script for which the log was generated that are not part of the approved 
list of packages and functions
* `errors`: Errors generated when running the script
* `messages`: Messages generated when running the script
* `warnings`: Warnings generated when running the script
* `result`: Result generated when running the script
* `output`: Output generated when running the script
* `log_name`, `log_path`: Name and path of the log


<style>
  .scrolled {
    overflow-y: scroll !important;
    white-space: nowrap;
    max-height: 400px;
  }
</style>

<div class = "scrolled">
 <img src='`r here::here("man/figures/log.png")`'/>
</div>

# Generating a log
The log can be generated in a number of ways, below is an example of how to use the `axecute()` function to generate a log. This method is the easiest and most accessible way of creating a log.  To learn more about executing code with ```logrx``` please visit our [Developing Vignette](https://pharmaverse.github.io/logrx/articles/developing.html).
## `axecute()`
`axecute()` enables the command line submission of a program. A log is 
set-up around the program, and its code is run safely and loudly (using 
`safely()` from the `purrr` package).
```{r axecute, eval = FALSE}
axecute("my_script.R")
```


## `logrx` addin:
A log can be generated using the ```logrx``` addin. More information can be found in [logrx](https://pharmaverse.github.io/logrx/index.html).
